<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${anime.title}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
</head>
<body class="bg-dark">
    <div th:replace="fragments/navbar :: navbar"></div>
    <div id="app" class="container mt-5">

        <div class="alert alert-success" role="alert" th:text="${success}" th:if="${success}"></div>
        <div class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>

        <div th:replace="fragments/searchForm :: searchForm"></div>

        <div class="d-flex justify-content-around mt-3">
            <div th:unless="${isInFavourite}" class="col-2">
                <form th:action="@{/favourite(id=${anime.mal_id})}" method="post">
                    <button type="submit" class="btn btn-info btn-lg">Save to Favourite</button>
                </form>
            </div>
            <div th:if="${isInFavourite}" class="col-2">
                <form th:action="@{/favourite/delete(id=${anime.mal_id})}" method="post">
                    <button type="submit" class="btn btn-danger btn-lg">Delete from Favourite</button>
                </form>
            </div>
            <div th:if="${isInWatchLater}" class="col-2">
                <form th:action="@{/watchlater/delete(id=${anime.mal_id})}" method="post">
                    <button type="submit" class="btn btn-danger btn-lg">Delete from Watch Later</button>
                </form>
            </div>
            <div th:unless="${isInWatchLater}" class="col-2">
                <form th:action="@{/watchlater(id=${anime.mal_id})}" method="post">
                    <button type="submit" class="btn btn-secondary btn-lg">Save to Watch Later</button>
                </form>
            </div>
        </div>

        <div th:replace="fragments/animeDetail :: deilailCard (${anime})"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
</body>
</html>